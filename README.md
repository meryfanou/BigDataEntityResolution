# K23a_project1

ΜΙΧΑΛΗΣ ΒΟΥΡΤΖΟΥΜΗΣ 1115201700018

ΜΕΡΟΠΗ ΦΑΝΟΥ 1115201700176

Έχουν υλοποιηθεί όλες οι απαιτήσεις της εργασίας, όπως περιγράφονται στην εκφώνηση

Η εργασία διαθέτει Makefile κάνοντας εύκολη την εκτέλεση της.
Επιλογές make:

    - make all : Διαγράφει προηγούμενες εκδόσεις των αρχείων (clean) δημιουργεί τους απαραίτητους φακέλους (dirs) και εκτελέσιμα. Στη συνέχεια τρέχει τα tests (tests) και αν επιτύχουν τρέχει τη main (run), με τα αποτελέσματα της να αποθηκεύονται στο αρχείο matches_logDEF μέσα στο φάκελο Outputs.
    - make valgrind: Τρέχει την main κάνοντας χρήση του valgrind.
    - make all_tests: Κάνει complie όλα τα tests σε ένα εκτελέσιμο.
    - make medium_labels: Τρέχει τη main κάνοντας χρήση του medium_labelled_dataset.
    

myHash.c: 

          Υλοποιείται η δομη του HashTable και των συναρτήσεων της, όπως αυτές ορίζονται στο myHash.h.
          Συγκεκριμένα, το HashTable χρησιμοποιείται για την αποθήκευση των δομών mySpecs επιτυγχάνοντας. παραλλήλα, και την εύκολη και αποδοτική ανάκτιση τους
          (σε Ο(1) χρόνο).
          Για τη σωστή υλοποίηση του HashTable χρησιμοποιούνται οι δομές HashTable{}, bucket{} και record{}. Η δομη Hashtable κρατά έναν δέικτη στον πίνακα
          κατακερματισμού, το μεγεθός του, τις μέγιστες εγγραφές των bucket του και το πλήθος των εγγραφών του. Η δομή bucket περιέχει εναν δείκτη σε record, εναν
          μετρητή του πλήθους των εγγραφών της και εναν δείκτη σε μια επόμενη δομή bucket. Η κάθε δομή record αποτελέιται απο εναν δείτη προς μια δομή mySpec{}
          και εναν δείκτη σε επόμενη δομή record.
          Για την εισαγωγή ενος mySpec στον πίνακα κατακερματισμού χρησιμοποιείται ως "κλειδί" το specID του. 
          
          
myMatches.c:
           
           Υλοποιείται η δομή της "κλίκας", όπως περιγράφει η εκφώνηση και οι συναρτήσεις που την απαρτίζουν, όπως αυτές περιγράφονται στο myMatches.h.
           Κάθε δομή myMatches{} περιέχει εναν πίνακα τύπου ** mySpec{} που δύναται να αποθηκεύσει δείκτες προς τις αντίστοιχες δομές, καθώς και έναν μετρητή για
           το πλήθος των εγγραφών του πίνακα. Επιπλέον, καθώς κρίθηκε αναγκαίο όλες οι κλίκες να βρίσκονται μαζι σε μια λίστα, περιέχει έναν δείκτη προς μια 
           επόμενη και έναν προς μια προηγούμενη δομη myMtaches, δημιουργόντας έτσι μια διπλά συνδεδεμένη λιστα.
           Η δομή matchesInfo κρατά την αρχή της λίστας αυτής καθώς και έναν μετρητή για τις εγγραφές της.
           
           
mySpec.c: 

          Στη δομή mySpec διατηρούνται το specID του προϊόντος, ένας πίνακας με τις ιδιότητές του (δομή specInfo: διατηρεί το όνομα της εκάστοτε ιδιότητας και μια
          λίστα με τις τιμές της) και η λίστα (ή κλίκα) με όλα τα specs με τα οποία ταιριάζει το συγκεκριμένο προϊόν (matches). Στην αρχή τα matches περιέχου μόνο
          το ίδιο το spec.

tests/*test.c: 
          
          Τα αρχεία που βρίσκονται στο φέκλο "tests" και έχουν τη συγκεκριμένη κατάληξη, αποτελούν το σύνολο των unit tests για τις δομές που δημιουργήθηκαν.
          Η υλοποίηση τους γίνεται με τη βοήθεια της βιβλιοθήκης acutest.h
          Ολα τα tests μαζι, μέσω του make, γίνονται compile σε ενα εκτελέσιμο.

main.c:
          
          Η συνάρτηση main δέχεται τα εξής προαιρετικά ορίσματα:
          -ο filename, όπου filename το όνομα του αρχείου στο οποίο θα εκτυπωθούν τα αποτελέσματα. By default το filname που χρησιμοποιείται, σε περίπτωση που 
          εκτός απο το ορισμο -ο δεν δοθούν περαιτέρω ορίσματα, είναι το matches_log_DEF. Σε κάθε περίπτωση το αρχείο που δημιουργείται αποθυκεύεται στον φάκελο
          Outputs.
          -labels medium, για την επιλογή του sigmod_medium_laballed_dataset.csv για το διάβασμα των ζευγαριών των specs. Αν δε δοθεί κάποιο όρισμα, by default
          χρησιμοποείται το αρχείο sigmod_large_laballed_dataset.csv.

          Αφού διαβαστούν όσα ορίσματα υπάρχουν, δημιουργούνται και αρχικοποιούνται το hashTable και η λίστα με όλα τα matches (allMatches).
          Στη συνέχεια γίνεται η ανάγνωση των specs από το datasetX. Για κάθε spec-αρχείο ενός φακέλου του dataset, διαβάζονται και γίνονται parsed οι αντίστοιχες
          ιδιότητες, δημιουργείται η δομή για το spec και ενημερώνονται κατάλληλα οι δομές hashTable και allMatches.
          Ακολουθεί το διάβασμα του csv αρχείου. Για κάθε ζεύγος από specs που ταιριάζουν μεταξύ τους, γίνεται η ανάκτησή τους μέσω του hashTable και ελέγχεται αν
          βρίσκονται ή όχι στην ίδια κλίκα. Στην περίπτωση που τα σπεκς δεν βρίσκονται ηδη στην ιδια κλίκα, γίνεται συγχώνευση των δυο κλικών. Στην αντίθετη
          περίπτωση το πρόγραμμα συνεχίζει με την ανάγνωση του αρχείου csv.
          Παράλληλα, το προγραμμα κρατά στατιστικά για την επιτυχή εκπώνηση κάθε λειτουργίας του, κατά το δίβασμα του csv.
          Στη συνέχεια, γίνεται η εκτύπωση όλών των κλικών στο stdout η σε ενα αρχείο (ανάλογα με τις επιλογές στη main), καθώς και στατιστικών για το πόσα
          ζευγάρια υπάρχουν συνολικά αλλα και το πλήθος των κλικών.
          
          Στο τέλος του προγράμματος γίνεται, επιτυχημένα, η απελευθέρωση όλης της δυναμικά δεσμευμένης μνήμης που χρησιμοποιήθηκε.
          
          Ανά πάσα στιγμή και καθ' όσο τρέχει η main, υποστηρίζεται διαχείρηση λήψης ενός σήματος τερματισμού του εκτελέσιμου (SIGINT, SIGQUIT) οπότε διακόπτεται
          η όποια εργασία (readDataset, readCSV, main), αποδεσμεύεται η μνήμη και γίνεται ομαλός τερματισμός του προγράμματος με τα αντίστοιχα μηνύματα στο
          stdout.


